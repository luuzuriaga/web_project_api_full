# Around the US - Proyecto Full Stack ğŸŒ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)](https://nodejs.org/)
[![React Version](https://img.shields.io/badge/react-18.x-blue)](https://reactjs.org/)

## ğŸ“‹ DescripciÃ³n del Proyecto

**Around the US** es una aplicaciÃ³n web interactiva que permite a los usuarios compartir fotografÃ­as de lugares interesantes alrededor de Estados Unidos. Los usuarios pueden crear un perfil, subir imÃ¡genes, dar "me gusta" a publicaciones y gestionar su propia galerÃ­a de tarjetas.

Este proyecto representa la culminaciÃ³n del bootcamp de Desarrollo Web, integrando tecnologÃ­as de frontend y backend para crear una aplicaciÃ³n web completa y funcional.

---

![Login](./frontend/images/singin.png)
![Signin](./frontend/images/home.png))

## ğŸŒ Enlaces del Proyecto

- **Frontend**: [https://lucerofront.baselinux.net](https://lucerofront.baselinux.net)
- **API Backend**: [https://luceroapi.baselinux.net](https://luceroapi.baselinux.net)
- **Repositorio**: [GitHub](hhttps://github.com/luuzuriaga/web_project_api_full)

---

## âœ¨ CaracterÃ­sticas Principales

### Funcionalidades de Usuario
- âœ… **Registro y AutenticaciÃ³n**: Sistema completo de registro e inicio de sesiÃ³n con JWT
- âœ… **GestiÃ³n de Perfil**: Editar nombre, descripciÃ³n y foto de avatar
- âœ… **GestiÃ³n de Tarjetas**: Crear, eliminar y visualizar tarjetas con imÃ¡genes
- âœ… **Sistema de Likes**: Dar y quitar "me gusta" a las tarjetas
- âœ… **ValidaciÃ³n de Formularios**: ValidaciÃ³n en tiempo real de todos los campos
- âœ… **DiseÃ±o Responsivo**: Interfaz adaptable a dispositivos mÃ³viles, tablets y desktop

### CaracterÃ­sticas TÃ©cnicas
- ğŸ”’ **Seguridad**: AutenticaciÃ³n JWT, encriptaciÃ³n de contraseÃ±as con bcrypt
- ğŸš€ **Performance**: CompresiÃ³n Gzip, cachÃ© de assets estÃ¡ticos
- ğŸ“± **SPA**: Single Page Application con React Router
- ğŸ”„ **API RESTful**: Endpoints bien estructurados y documentados
- âœ… **ValidaciÃ³n**: ValidaciÃ³n tanto en frontend como backend
- ğŸ“ **Logs**: Sistema de registro de solicitudes y errores

---

## ğŸ› ï¸ TecnologÃ­as Utilizadas

### Frontend
![React](https://img.shields.io/badge/React-20232A?style=flat&logo=react&logoColor=61DAFB)
![React Router](https://img.shields.io/badge/React_Router_DOM-CA4245?style=flat&logo=reactrouter&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-646CFF?style=flat&logo=vite&logoColor=FFD62E)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=css3&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript_ES6+-F7DF1E?style=flat&logo=javascript&logoColor=black)

- **React** 18.x - Biblioteca de JavaScript para interfaces de usuario
- **React Router DOM** - Enrutamiento para Single Page Application
- **Vite** - Build tool y dev server de Ãºltima generaciÃ³n
- **CSS3** - Estilos personalizados con metodologÃ­a BEM
- **JavaScript ES6+** - CaracterÃ­sticas modernas de JavaScript

### Backend
![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat&logo=node.js&logoColor=white)
![Express.js](https://img.shields.io/badge/Express.js-000000?style=flat&logo=express&logoColor=white)
![MongoDB](https://img.shields.io/badge/MongoDB-47A248?style=flat&logo=mongodb&logoColor=white)
![Mongoose](https://img.shields.io/badge/Mongoose-880000?style=flat&logo=mongoose&logoColor=white)
![JWT](https://img.shields.io/badge/JWT-000000?style=flat&logo=jsonwebtokens&logoColor=white)
![bcryptjs](https://img.shields.io/badge/bcryptjs-003366?style=flat&logo=lock&logoColor=white)
![validator](https://img.shields.io/badge/validator-2C3E50?style=flat&logo=data&logoColor=white)
![Celebrate/Joi](https://img.shields.io/badge/Celebrate%2FJoi-6E40C9?style=flat&logo=joi&logoColor=white)
![Winston](https://img.shields.io/badge/Winston-4A4A4A?style=flat&logo=winston&logoColor=white)
![express-winston](https://img.shields.io/badge/express--winston-4A4A4A?style=flat&logo=express&logoColor=white)
![helmet](https://img.shields.io/badge/helmet-00897B?style=flat&logo=helmet&logoColor=white)
![CORS](https://img.shields.io/badge/CORS-FF6F00?style=flat&logo=internetexplorer&logoColor=white)
![dotenv](https://img.shields.io/badge/dotenv-ECD53F?style=flat&logo=.env&logoColor=black)

- **Node.js** - Entorno de ejecuciÃ³n de JavaScript
- **Express.js** - Framework web minimalista y flexible
- **MongoDB** - Base de datos NoSQL
- **Mongoose** - ODM para MongoDB
- **JWT** (jsonwebtoken) - AutenticaciÃ³n basada en tokens
- **bcryptjs** - EncriptaciÃ³n de contraseÃ±as
- **validator** - ValidaciÃ³n de datos
- **celebrate/Joi** - ValidaciÃ³n de esquemas
- **winston** - Sistema de logging
- **express-winston** - Middleware de logging
- **helmet** - Seguridad HTTP
- **cors** - Manejo de Cross-Origin Resource Sharing
- **dotenv** - GestiÃ³n de variables de entorno

### Infraestructura y DevOps
![Google Cloud](https://img.shields.io/badge/Google_Cloud_Platform-4285F4?style=flat&logo=googlecloud&logoColor=white)
![Nginx](https://img.shields.io/badge/Nginx-009639?style=flat&logo=nginx&logoColor=white)
![PM2](https://img.shields.io/badge/PM2-2B037A?style=flat&logo=pm2&logoColor=white)
![Let's Encrypt](https://img.shields.io/badge/Let's_Encrypt-003A70?style=flat&logo=letsencrypt&logoColor=white)
![FreeDNS](https://img.shields.io/badge/FreeDNS-0052CC?style=flat&logo=dns&logoColor=white)
- **Google Cloud Platform** - Hosting del servidor
- **Nginx** - Servidor web y proxy inverso
- **PM2** - Process manager para Node.js
- **Let's Encrypt** - Certificados SSL/TLS gratuitos
- **FreeDNS** - Servicio de DNS

---

## ğŸ“ Estructura del Proyecto
```
around-project/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ cards.js          # Controladores de tarjetas
â”‚   â”‚   â””â”€â”€ users.js          # Controladores de usuarios
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”œâ”€â”€ auth.js           # Middleware de autenticaciÃ³n JWT
â”‚   â”‚   â”œâ”€â”€ errorHandler.js  # Manejo centralizado de errores
â”‚   â”‚   â”œâ”€â”€ requestLogger.js # Logger de solicitudes
â”‚   â”‚   â””â”€â”€ validation.js    # Validaciones con Celebrate
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ Card.js           # Modelo de tarjetas
â”‚   â”‚   â””â”€â”€ User.js           # Modelo de usuarios
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ cards.js          # Rutas de tarjetas
â”‚   â”‚   â””â”€â”€ users.js          # Rutas de usuarios
â”‚   â”œâ”€â”€ app.js                # Punto de entrada de la aplicaciÃ³n
â”‚   â”œâ”€â”€ .env                  # Variables de entorno (no en repo)
â”‚   â”œâ”€â”€ .eslintrc             # ConfiguraciÃ³n de ESLint
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ images/           # ImÃ¡genes estÃ¡ticas
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer/
â”‚   â”‚   â”‚   â”œâ”€â”€ Main/
â”‚   â”‚   â”‚   â”œâ”€â”€ Cards/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login/
â”‚   â”‚   â”‚   â”œâ”€â”€ Register/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProtectedRoute/
â”‚   â”‚   â”‚   â””â”€â”€ InfoTooltip/
â”‚   â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â”‚   â””â”€â”€ CurrentUserContext.jsx
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ Api.js
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.js
â”‚   â”‚   â”œâ”€â”€ index.css
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ .env                  # Variables de entorno
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md
```

---

## ğŸš€ InstalaciÃ³n y ConfiguraciÃ³n Local

### Prerrequisitos
- Node.js v18 o superior
- MongoDB (local o Atlas)
- npm o yarn

### Backend

1. **Navegar a la carpeta backend**
```bash
   cd backend
```

2. **Instalar dependencias**
```bash
   npm install
```

3. **Crear archivo `.env`**
```env
   NODE_ENV=development
   PORT=3000
   MONGODB_URI=mongodb://localhost:27017/aroundb
   JWT_SECRET=tu-secreto-super-seguro-de-desarrollo
```

4. **Iniciar servidor de desarrollo**
```bash
   npm run dev
```

   El servidor estarÃ¡ disponible en `http://localhost:3000`

### Frontend

1. **Navegar a la carpeta frontend**
```bash
   cd frontend
```

2. **Instalar dependencias**
```bash
   npm install
```

3. **Crear archivo `.env`**
```env
   VITE_API_URL=http://localhost:3000
   VITE_APP_NAME=Around the US
```

4. **Iniciar servidor de desarrollo**
```bash
   npm run dev
```

   La aplicaciÃ³n estarÃ¡ disponible en `http://localhost:5173`

---

## ğŸ“¡ API Endpoints

### AutenticaciÃ³n (PÃºblicas)
```
POST /signup          - Registrar nuevo usuario
POST /signin          - Iniciar sesiÃ³n
```

### Usuarios (Protegidas - Requieren JWT)
```
GET    /users/me      - Obtener informaciÃ³n del usuario actual
PATCH  /users/me      - Actualizar perfil del usuario
PATCH  /users/me/avatar - Actualizar avatar del usuario
```

### Tarjetas (Protegidas - Requieren JWT)
```
GET    /cards         - Obtener todas las tarjetas
POST   /cards         - Crear nueva tarjeta
DELETE /cards/:cardId - Eliminar tarjeta (solo el propietario)
PUT    /cards/:cardId/likes    - Dar like a una tarjeta
DELETE /cards/:cardId/likes    - Quitar like de una tarjeta
```

### Utilidad
```
GET /health           - Health check del servidor
```

---

## ğŸ” AutenticaciÃ³n

El proyecto utiliza **JWT (JSON Web Tokens)** para la autenticaciÃ³n:

1. El usuario se registra con email y contraseÃ±a
2. La contraseÃ±a se encripta con bcrypt (12 salts)
3. Al iniciar sesiÃ³n, se genera un JWT con duraciÃ³n de 7 dÃ­as
4. El token se almacena en `localStorage` del cliente
5. Cada solicitud protegida incluye el token en el header `Authorization: Bearer <token>`
6. El middleware de autenticaciÃ³n valida el token en cada solicitud

---

## ğŸŒ Despliegue en ProducciÃ³n

### Infraestructura
- **Servidor**: Google Cloud Compute Engine (VM)
- **OS**: Ubuntu 20.04 LTS
- **Web Server**: Nginx (proxy inverso)
- **Process Manager**: PM2
- **Database**: MongoDB Atlas
- **SSL/TLS**: Let's Encrypt (Certbot)

### Dominios Configurados
- Frontend: `lucerofront.baselinux.net`
- Backend API: `luceroapi.baselinux.net`

### Variables de Entorno en ProducciÃ³n

**Backend (.env)**
```env
NODE_ENV=production
PORT=3000
MONGODB_URI=mongodb+srv://[usuario]:[password]@cluster.mongodb.net/aroundb
JWT_SECRET=[secreto-seguro-aleatorio-64-caracteres]
ALLOWED_ORIGINS=https://lucerofront.baselinux.net,https://www.lucerofront.baselinux.net
FRONTEND_URL=https://lucerofront.baselinux.net
```

**Frontend (.env)**
```env
VITE_API_URL=https://luceroapi.baselinux.net
VITE_APP_NAME=Around the US
```

### Proceso de Despliegue

1. **Subir cÃ³digo al servidor**
```bash
   git pull origin main
```

2. **Actualizar backend**
```bash
   cd backend
   npm install --production
   pm2 restart backend-api
```

3. **Actualizar frontend**
```bash
   cd frontend
   npm install
   npm run build
   sudo systemctl reload nginx
```

---

## ğŸ”§ Scripts Disponibles

### Backend
```bash
npm start          # Iniciar servidor en producciÃ³n
npm run dev        # Iniciar con nodemon (desarrollo)
npm run lint       # Ejecutar ESLint
```

### Frontend
```bash
npm run dev        # Servidor de desarrollo (Vite)
npm run build      # Construir para producciÃ³n
npm run preview    # Preview del build
npm run lint       # Ejecutar ESLint
```

---

## ğŸ§ª ValidaciÃ³n y Seguridad

### Validaciones Implementadas
- âœ… ValidaciÃ³n de emails con formato correcto
- âœ… ContraseÃ±as mÃ­nimo 8 caracteres
- âœ… URLs vÃ¡lidas para imÃ¡genes y avatares
- âœ… Nombres y descripciones con longitud apropiada
- âœ… ObjectIds vÃ¡lidos de MongoDB
- âœ… ValidaciÃ³n de tokens JWT

### Medidas de Seguridad
- ğŸ”’ ContraseÃ±as hasheadas con bcrypt
- ğŸ”’ Tokens JWT con expiraciÃ³n
- ğŸ”’ CORS configurado para orÃ­genes especÃ­ficos
- ğŸ”’ Helmet.js para headers HTTP seguros
- ğŸ”’ Rate limiting para prevenir ataques
- ğŸ”’ ValidaciÃ³n de entrada en todos los endpoints
- ğŸ”’ HTTPS obligatorio en producciÃ³n
- ğŸ”’ Hash de contraseÃ±as no expuesto en respuestas

---

## ğŸ“Š Sistema de Logging

El backend implementa un sistema completo de logging:

### Request Logger
- Registra todas las solicitudes HTTP
- Formato JSON con timestamp
- Archivo: `request.log`

### Error Logger
- Registra todos los errores
- Incluye stack trace completo
- Archivo: `error.log`

### UbicaciÃ³n de logs
```bash
backend/request.log
backend/error.log
```

---

## ğŸ› Manejo de Errores

### CÃ³digos de Estado HTTP
- `200` - Ã‰xito
- `201` - Recurso creado
- `400` - Datos invÃ¡lidos
- `401` - No autenticado
- `403` - No autorizado
- `404` - Recurso no encontrado
- `409` - Conflicto (email duplicado)
- `500` - Error del servidor

### Errores Centralizados
Todos los errores pasan por un middleware centralizado que:
- Formatea la respuesta de error
- Registra el error en logs
- Evita exponer informaciÃ³n sensible
- Proporciona mensajes claros al cliente

---

## ğŸ¨ MetodologÃ­a BEM

El proyecto utiliza la metodologÃ­a BEM (Block Element Modifier) para CSS:
```css
/* Bloque */
.button { }

/* Elemento */
.button__icon { }

/* Modificador */
.button_type_submit { }
.button_disabled { }
```

---

## ğŸ“± DiseÃ±o Responsivo

La aplicaciÃ³n es completamente responsiva con breakpoints:

- **Desktop**: > 1280px
- **Tablet**: 768px - 1279px
- **Mobile**: < 767px

---

## ğŸš§ Mejoras Futuras

- [ ] Implementar recuperaciÃ³n de contraseÃ±a
- [ ] Agregar comentarios en las tarjetas
- [ ] Sistema de notificaciones en tiempo real
- [ ] Filtrado y bÃºsqueda de tarjetas
- [ ] Perfil pÃºblico de usuarios
- [ ] Compartir tarjetas en redes sociales
- [ ] Modo oscuro/claro
- [ ] InternacionalizaciÃ³n (i18n)
- [ ] Tests unitarios y de integraciÃ³n
- [ ] PWA (Progressive Web App)

---

## ğŸ‘¨â€ğŸ’» Autor

**Lucero Uzuriaga**
- GitHub: [luuzuriaga](https://github.com/luuzuriaga)

---

## ğŸ™ Agradecimientosadd

- **TripleTen** - Por la formaciÃ³n y el apoyo durante el bootcamp
- **Google Cloud Platform** - Por proporcionar crÃ©ditos gratuitos para hosting
- **MongoDB Atlas** - Por el servicio de base de datos en la nube
- **Let's Encrypt** - Por los certificados SSL gratuitos

---


## ğŸ”„ Changelog

### v1.0.0 (2025-01-20)
- âœ¨ Lanzamiento inicial
- âœ… Sistema completo de autenticaciÃ³n
- âœ… CRUD de tarjetas y usuarios
- âœ… Sistema de likes
- âœ… Despliegue en Google Cloud
- âœ… SSL/TLS configurado

---

**Hecho con â¤ï¸ y mucho â˜• por [Lucero Uzuriaga]**